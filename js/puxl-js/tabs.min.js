function puxl_tabs(){"use strict";function e(e){e.focus(),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0")}function t(e){e.blur(),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1")}function o(e){e.removeAttribute("hidden"),e.setAttribute("tabindex","0")}function n(e){e.blur(),e.setAttribute("hidden",""),e.setAttribute("tabindex","-1")}function a(){for(s=0;s<r.length;s++){var e,t,o,n=r[s],a={id:"",tabs:[],enabledTabs:[],tabpanels:[]},b=n.children,l=n.childElementCount,u=n.querySelector("[role=tablist]"),c=u.querySelectorAll("[role=tab]"),g=u.childElementCount,A=!1,f=[],y=0;for(!1===n.hasAttribute("id")&&n.setAttribute("id","tabs--"+(s+1)),a.id=n.id,o=0;o<l;o++)"tabpanel"===b[o].getAttribute("role")&&(t=b[o],f.push(t),y++);for(g!==y&&alert("Puxl tabs(): Component .tabs#"+n.id+" must have equal number of tabs ("+g+") and tabpanels ("+y+")."),i=0;i<y;i++)e=c[i],t=f[i],a.tabs.push(e),a.tabpanels.push(t),t.setAttribute("id",n.id+"__tabpanel--"+(i+1)),!1===e.hasAttribute("id")?e.setAttribute("id",n.id+"__tab--"+(i+1)):t.setAttribute("id",e.id+"__tabpanel"),e.setAttribute("aria-controls",t.id),t.setAttribute("aria-labelledby",e.id),!1===e.hasAttribute("disabled")&&a.enabledTabs.push(e),"true"===e.getAttribute("aria-selected")?(A=!0,e.setAttribute("tabindex",0),t.setAttribute("tabindex",0),t.removeAttribute("hidden")):(e.setAttribute("aria-selected","false"),e.setAttribute("tabindex",-1),t.setAttribute("tabindex",-1),t.setAttribute("hidden","")),e.setAttribute("type","button");!1===A&&(a.enabledTabs[0].setAttribute("aria-selected","true"),a.enabledTabs[0].setAttribute("tabindex","0"),document.getElementById(a.enabledTabs[0].getAttribute("aria-controls")).removeAttribute("hidden"),document.getElementById(a.enabledTabs[0].getAttribute("aria-controls")).setAttribute("tabindex","0")),a.enabledTabs[0].setAttribute("tabindex","0"),d.push(a)}}var s,i,r=document.querySelectorAll(".tabs"),d=[],b=[],l=[];if(0===r.length)console.log("Puxl tabs(): No .tabs components were found.");else{for(r.length>=2?console.log("Puxl tabs(): "+r.length+" .tabs components were found."):console.log("Puxl tabs(): "+r.length+" .tabs component was found."),a(),s=0;s<d.length;s++){for(i=0;i<d[s].tabs.length;i++)b.push(d[s].tabs[i]);for(i=0;i<d[s].tabpanels.length;i++)l.push(d[s].tabpanels[i])}b.forEach(function(a){for(s=0;s<d.length;s++)if(a.parentNode.parentNode.id===d[s].id){var i=d[s].tabs,r=d[s].enabledTabs,b=d[s].tabpanels,l=a,u=r.indexOf(a),c=document.getElementById(a.getAttribute("aria-controls"));a.addEventListener("click",function(){i.forEach(function(e){t(e)}),b.forEach(function(e){n(e)}),e(l),o(c)}),a.addEventListener("keydown",function(s){function i(){t(r[u]),n(document.getElementById(r[u].getAttribute("aria-controls"))),e(r[0]),o(document.getElementById(r[0].getAttribute("aria-controls")))}function d(){t(r[u]),n(document.getElementById(r[u].getAttribute("aria-controls"))),e(r[u-1]),o(document.getElementById(r[u-1].getAttribute("aria-controls")))}function b(){t(r[u]),n(document.getElementById(r[u].getAttribute("aria-controls"))),e(r[u+1]),o(document.getElementById(r[u+1].getAttribute("aria-controls")))}function l(){t(r[u]),n(document.getElementById(r[u].getAttribute("aria-controls"))),e(r[r.length-1]),o(document.getElementById(r[r.length-1].getAttribute("aria-controls")))}switch(s.keyCode){case 13:console.log("Puxl tabs(): Pressed Enter (keyCode "+s.keyCode+") on "+a.id+". Focus tabpanel."),document.getElementById(a.getAttribute("aria-controls")).focus();break;case 27:console.log("Puxl tabs(): Pressed Escape (keyCode "+s.keyCode+") on "+a.id+". Loose focus."),a.blur();break;case 35:console.log("Puxl tabs(): Pressed End (keyCode "+s.keyCode+") on "+a.id+". Go to last tab."),l();break;case 36:console.log("Puxl tabs(): Pressed Home (keyCode "+s.keyCode+") on "+a.id+". Go to first tab."),i();break;case 37:console.log("Puxl tabs(): Pressed Left (keyCode "+s.keyCode+") on "+a.id+". Go to previous tab."),d();break;case 38:console.log("Puxl tabs(): Pressed Up (keyCode "+s.keyCode+") on "+a.id+". Go to previous tab."),d();break;case 39:console.log("Puxl tabs(): Pressed Right (keyCode "+s.keyCode+") on "+a.id+". Go to next tab."),b();break;case 40:console.log("Puxl tabs(): Pressed Down (keyCode "+s.keyCode+") on "+a.id+". Go to next tab."),b()}})}}),l.forEach(function(e){e.addEventListener("keydown",function(t){switch(t.keyCode){case 27:console.log("Puxl tabs(): Pressed Escape (keyCode "+t.keyCode+") on "+e.id+". Loose focus."),e.blur()}})})}}